<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Properties ‚Äì Prime Cyprus</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=DM+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0e17; --bg-secondary: #111827; --bg-card: #161e2e; --bg-card-hover: #1c2640;
      --text-primary: #f1f5f9; --text-secondary: #94a3b8; --text-muted: #64748b;
      --gold: #d4a853; --gold-light: #e8c97a; --gold-glow: rgba(212,168,83,0.15);
      --border: rgba(255,255,255,0.06); --border-gold: rgba(212,168,83,0.25);
      --font-display: 'Playfair Display', Georgia, serif; --font-body: 'DM Sans', -apple-system, sans-serif;
      --max-width: 1200px; --transition: 0.3s cubic-bezier(0.4,0,0.2,1);
    }
    *,*::before,*::after { box-sizing:border-box; margin:0; padding:0; }
    html { scroll-behavior:smooth; -webkit-font-smoothing:antialiased; }
    body { font-family:var(--font-body); background:var(--bg-primary); color:var(--text-primary); line-height:1.7; font-size:16px; overflow-x:hidden; }
    a { color:inherit; text-decoration:none; }
    img { max-width:100%; height:auto; display:block; }
    .container { max-width:var(--max-width); margin:0 auto; padding:0 24px; }
    h1,h2,h3 { font-family:var(--font-display); font-weight:600; line-height:1.2; letter-spacing:-0.02em; }
    .nav { position:fixed; top:0; left:0; right:0; z-index:1000; background:rgba(10,14,23,0.85); backdrop-filter:blur(20px); border-bottom:1px solid var(--border); height:72px; }
    .nav__inner { display:flex; align-items:center; justify-content:space-between; height:72px; max-width:var(--max-width); margin:0 auto; padding:0 24px; }
    .nav__right { display:flex; align-items:center; gap:48px; }
    .nav__logo { font-family:var(--font-display); font-size:1.4rem; font-weight:700; display:flex; align-items:center; gap:10px; }
    .nav__logo .logo-accent { color:var(--gold); }
    .nav__links { display:flex; align-items:center; gap:36px; list-style:none; }
    .nav__links a { font-size:0.9rem; font-weight:500; color:var(--text-secondary); position:relative; }
    .nav__links a:hover,.nav__links a.active { color:var(--text-primary); }
    .nav__links a::after { content:''; position:absolute; bottom:-4px; left:0; width:0; height:1.5px; background:var(--gold); transition:var(--transition); }
    .nav__links a:hover::after,.nav__links a.active::after { width:100%; }
    .nav__dropdown { position:relative; }
    .nav__dropdown-trigger { font-size:0.9rem; font-weight:500; color:var(--text-secondary); cursor:pointer; display:flex; align-items:center; gap:4px; background:none; border:none; font-family:inherit; }
    .nav__dropdown:hover .nav__dropdown-trigger { color:var(--text-primary); }
    .nav__dropdown-trigger::after { content:''; display:inline-block; width:0; height:0; margin-left:4px; border-left:4px solid transparent; border-right:4px solid transparent; border-top:5px solid currentColor; }
    .nav__dropdown-menu { position:absolute; top:100%; left:50%; transform:translateX(-50%); margin-top:8px; padding:8px 0; background:var(--bg-card); border:1px solid var(--border); border-radius:8px; min-width:180px; box-shadow:0 12px 40px rgba(0,0,0,0.4); list-style:none; opacity:0; visibility:hidden; transition:all .2s; }
    .nav__dropdown:hover .nav__dropdown-menu { opacity:1; visibility:visible; }
    .nav__dropdown-menu a { display:block; padding:10px 20px; font-size:0.9rem; color:var(--text-secondary); }
    .nav__dropdown-menu a:hover { background:var(--gold-glow); color:var(--gold); }
    .nav__cta { display:flex; align-items:center; gap:16px; }
    .nav__hamburger { display:none; flex-direction:column; gap:5px; cursor:pointer; background:none; border:none; }
    .nav__hamburger span { width:24px; height:2px; background:var(--text-primary); transition:var(--transition); }
    .btn { display:inline-flex; align-items:center; gap:8px; padding:14px 32px; font-size:0.95rem; font-weight:600; border-radius:6px; cursor:pointer; transition:var(--transition); }
    .btn--primary { background:var(--gold); color:var(--bg-primary); }
    .btn--primary:hover { background:var(--gold-light); transform:translateY(-2px); }
    .footer { background:var(--bg-secondary); border-top:1px solid var(--border); padding:64px 0 32px; }
    .footer__grid { display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:48px; margin-bottom:48px; }
    .footer h4 { font-size:0.8rem; font-weight:600; letter-spacing:0.1em; text-transform:uppercase; color:var(--text-muted); margin-bottom:20px; }
    .footer__links { list-style:none; }
    .footer__links a { font-size:0.9rem; color:var(--text-secondary); }
    .footer__links a:hover { color:var(--gold); }
    .footer__bottom { border-top:1px solid var(--border); padding-top:24px; display:flex; justify-content:space-between; font-size:0.8rem; color:var(--text-muted); }

    /* Properties */
    .page-spacer { height:0; padding-top:72px; padding-bottom:48px; }
    .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(360px,1fr)); gap:36px; padding-bottom:80px; }
    .card { background:var(--bg-card); border:1px solid var(--border); border-radius:16px; overflow:hidden; transition:var(--transition); display:flex; flex-direction:column; height:100%; color:inherit; text-decoration:none; }
    .card:hover { transform:translateY(-8px); border-color:var(--border-gold); box-shadow:0 30px 70px rgba(0,0,0,0.6); }
    .card-image { position:relative; height:260px; overflow:hidden; }
    .card-image img { width:100%; height:100%; object-fit:cover; transition:transform .5s cubic-bezier(0.4,0,0.2,1); }
    .card:hover .card-image img { transform:scale(1.06); }
    .card-badges { position:absolute; top:20px; left:20px; display:flex; gap:10px; z-index:10; }
    .badge { padding:5px 13px; border-radius:999px; font-size:0.73rem; font-weight:700; letter-spacing:0.1em; text-transform:uppercase; background:var(--gold-glow); color:var(--gold); border:1px solid var(--border-gold); backdrop-filter:blur(8px); }
    .badge--featured { background:rgba(255,255,255,0.08); color:#cbd5e1; border-color:rgba(255,255,255,0.15); }
    .card-content { padding:28px 26px 34px; flex:1; display:flex; flex-direction:column; }
    .card h3 { font-size:1.4rem; line-height:1.25; margin-bottom:10px; }
    .price { font-size:1.5rem; font-weight:700; color:var(--gold); margin-bottom:14px; }
    .meta { color:var(--text-muted); font-size:0.9rem; margin-bottom:18px; }
    .description { color:var(--text-secondary); font-size:0.94rem; line-height:1.65; margin-bottom:24px; flex-grow:1; }
    .pill-row { display:flex; gap:8px; flex-wrap:wrap; }
    .pill { padding:5px 14px; background:var(--bg-secondary); border:1px solid var(--border); border-radius:999px; font-size:0.82rem; color:var(--text-secondary); }
    .cta { color:var(--gold-light); font-size:0.95rem; font-weight:500; margin-top:auto; padding-top:16px; border-top:1px solid var(--border); display:flex; align-items:center; gap:8px; }
    .status { text-align:center; padding:80px 20px; color:var(--text-muted); font-size:1.05rem; }

    @media (max-width:1024px) {
      .footer__grid { grid-template-columns:1fr 1fr; }
    }
    @media (max-width:768px) {
      .nav__links,.nav__cta .btn { display:none; }
      .nav__hamburger { display:flex; }
      .nav.mobile-open .nav__links { display:flex; flex-direction:column; position:absolute; top:72px; left:0; right:0; background:var(--bg-primary); border-bottom:1px solid var(--border); padding:24px; gap:20px; }
      .grid { grid-template-columns:repeat(auto-fill,minmax(300px,1fr)); gap:24px; }
      .footer__grid { grid-template-columns:1fr; gap:32px; }
      .footer__bottom { flex-direction:column; gap:16px; text-align:center; }
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="nav__inner">
      <a href="index.html" class="nav__logo">
        <span class="logo-accent">&#9670;</span> Prime <span class="logo-accent">Cyprus</span>
      </a>

      <div class="nav__right">
        <ul class="nav__links">
          <li><a href="digital-wealth.html">Digital Wealth</a></li>
          <li><a href="residency-tax.html">Residency &amp; Tax</a></li>
          <li class="nav__dropdown">
            <a href="properties-overview.html" class="nav__dropdown-toggle">
              Properties <span class="chevron"><svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-left: 2px; vertical-align: middle; color: var(--text-secondary);"><polyline points="6 9 12 15 18 9"/></svg></span>
            </a>
            <div class="nav__dropdown-menu">
              <a href="properties.html" class="active">Properties for Sale</a>
              <a href="property-management.html">Property Management</a>
            </div>
          </li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
        <div class="nav__cta">
          <a href="contact.html" class="btn btn--primary btn--sm">Get in Touch &rarr;</a>
        </div>
        <button class="nav__hamburger" aria-label="Toggle menu">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Spacer under nav (no text) -->
  <header class="page-spacer" aria-hidden="true"></header>

  <!-- Grid -->
  <div class="container">
    <div id="grid" class="grid"><p class="status">Loading properties‚Ä¶</p></div>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer__grid">
        <div class="footer__brand">
          <a href="index.html" class="nav__logo"><span class="logo-accent">&#9670;</span> Prime <span class="logo-accent">Cyprus</span></a>
          <p>Tax optimization, residency planning, and property investment for digital wealth builders.</p>
        </div>
        <div>
          <h4>Services</h4>
          <ul class="footer__links">
            <li><a href="residency-tax.html">Residency &amp; Tax</a></li>
            <li><a href="properties.html">Property Investment</a></li>
            <li><a href="digital-wealth.html">Digital Wealth Planning</a></li>
          </ul>
        </div>
        <div>
          <h4>Resources</h4>
          <ul class="footer__links">
            <li><a href="insights.html">Insights</a></li>
            <li><a href="residency-tax.html#non-dom">Non-Dom Guide</a></li>
            <li><a href="residency-tax.html#60day">60-Day Rule</a></li>
            <li><a href="tax-calculator.html">Tax Calculator</a></li>
            <li><a href="index.html#faq">FAQ</a></li>
          </ul>
        </div>
        <div>
          <h4>Company</h4>
          <ul class="footer__links">
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
      </div>
      <div class="footer__bottom">
        <span>&copy; 2026 Prime Cyprus. All rights reserved.</span>
        <span>General information only ‚Äî not legal, tax, or financial advice.</span>
      </div>
    </div>
  </footer>

  <script>
    const query = encodeURIComponent(`*[_type == "property"] | order(_createdAt desc) {
      _id, title, price, location, bedrooms, bathrooms, sizeSqm, description, featured,
      "imageUrl": coalesce(mainImage.asset->url, image.asset->url, images[0].asset->url),
      "slug": slug.current
    }`);
    const endpoint = `https://7ic15vv6.api.sanity.io/v2021-10-21/data/query/production?query=${query}`;

    fetch(endpoint)
      .then(r => r.json())
      .then(data => {
        const grid = document.getElementById('grid');
        const props = data.result || [];
        if (!props.length) {
          grid.innerHTML = `<p class="status">No properties found. Check back soon.</p>`;
          return;
        }
        grid.innerHTML = props.map(p => {
          const hasImage = !!p.imageUrl;
          const imgUrl = hasImage ? `${p.imageUrl}?w=900&h=600&fit=crop&auto=format` : '';
          const priceText = typeof p.price === 'number' ? `‚Ç¨${p.price.toLocaleString('en-US')}` : (p.price || 'Price on application');
          const metaParts = [];
          if (p.location) metaParts.push(p.location);
          if (p.bedrooms) metaParts.push(`${p.bedrooms} bed${p.bedrooms>1?'s':''}`);
          if (p.bathrooms) metaParts.push(`${p.bathrooms} bath${p.bathrooms>1?'s':''}`);
          if (p.sizeSqm) metaParts.push(`${p.sizeSqm} m¬≤`);
          const metaLine = metaParts.join(' ¬∑ ');
          const prEligible = (typeof p.price === 'number' && p.price >= 300000);
          return `
<a href="property-detail.html?slug=${p.slug || ''}" class="card">
  <div class="card-image">
    ${hasImage ? `<img src="${imgUrl}" alt="${p.title || 'Property'}" loading="lazy">` : '<div style="height:100%;background:#111827;display:flex;align-items:center;justify-content:center;color:#64748b;font-size:3rem;">üè†</div>'}
    <div class="card-badges">
      ${p.featured ? `<span class="badge badge--featured">Featured</span>` : ''}
      ${prEligible ? `<span class="badge">PR Eligible</span>` : ''}
    </div>
  </div>
  <div class="card-content">
    <h3>${p.title || 'Property in Cyprus'}</h3>
    <div class="price">${priceText}</div>
    ${metaLine ? `<div class="meta">${metaLine}</div>` : ''}
    ${p.description ? `<p class="description">${p.description.substring(0,110)}${p.description.length>110?'‚Ä¶':''}</p>` : ''}
    <div class="pill-row">
      ${p.bedrooms?`<span class="pill">${p.bedrooms} bed${p.bedrooms>1?'s':''}</span>`:''}
      ${p.bathrooms?`<span class="pill">${p.bathrooms} bath${p.bathrooms>1?'s':''}</span>`:''}
      ${p.sizeSqm?`<span class="pill">${p.sizeSqm} m¬≤</span>`:''}
    </div>
    <div class="cta">View details ‚Üí</div>
  </div>
</a>`;
        }).join('');
      })
      .catch(() => {
        document.getElementById('grid').innerHTML = `<p class="status">Error loading properties.</p>`;
      });

    // Hamburger
    document.addEventListener('DOMContentLoaded', () => {
      const ham = document.querySelector('.nav__hamburger');
      const nav = document.querySelector('.nav');
      if (ham) ham.addEventListener('click', () => nav.classList.toggle('mobile-open'));
    });
  </script>
<script src="aion-embed.js"></script>
</body>
</html>
